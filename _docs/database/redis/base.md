---
title: Redis基础
description: Redis基础
date: 2022-06-01
---

## 一、什么是Redis

Redis，英文全称Remote Dictionary Server（远程字典服务），是一种基于内存亦可持久化的数据库。

## 二、Redis的数据结构

五种基本数据类型：

- String：字符串
- Hash：哈希
- List：列表
- Set：集合
- ZSet：有序集合

三种特殊数据类型：

- Geospatial
- Hyperloglog
- Bitmap

## 三、Redis为什么这么快

- 基于内存的存储
- 高效的数据结构
- 合理的数据编码
- 合理的线程模型
- 虚拟内存机制

## 四、缓存穿透、缓存击穿、缓存雪崩

### 1、缓存穿透

定义：缓存里没有，数据库里也没有，导致每次请求都会穿透到数据库

解决方案：

1. 设置默认值
2. 使用布隆过滤器判断值是否存在

### 2、缓存击穿

定义：热点key刚过期，大量请求打到数据库

解决方案：二级缓存

### 3、缓存雪崩

定义：大量key同时到期，海量请求打到数据库

解决方案：离散缓存过期时间

## 五、Redis是如何处理key过期的

过期策略有以下三种：

- 定时过期：为每一个时效key创建定时器，非常占用CPU资源
- 惰性过期：访问的时候判断是否已经过期，可能出现大量key过期后未被再次访问，造成内存占用
- 定期过期：定期扫描，移除过期key，是定时过期和惰性过期的这种方案

Redis同时使用了**惰性过期**和**定期过期**这两种策略
