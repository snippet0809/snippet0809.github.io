---
title: Redis基础
description: Redis基础
date: 2022-06-01
---

## 一、什么是Redis

Redis，英文全称Remote Dictionary Server（远程字典服务），是一种基于内存亦可持久化的数据库。

## 二、Redis的数据结构

五种基本数据类型：

- String：字符串
- Hash：哈希
- List：列表
- Set：集合
- ZSet：有序集合

三种特殊数据类型：

- Geospatial
- Hyperloglog
- Bitmap

## 三、Redis为什么这么快

- 基于内存的存储
- 高效的数据结构
- 合理的数据编码
- 合理的线程模型
- 虚拟内存机制

## 四、缓存穿透、缓存击穿、缓存雪崩

穿透：缓存里没有，数据库里也没有，导致每次请求都会穿透到数据库
击穿：热点key刚过期，大量请求打到数据库
雪崩：大量key同时到期，海量请求打到数据库

## 五、Redis是如何处理key过期的

过期策略有以下三种：

- 定时过期：为每一个时效key创建定时器，非常占用CPU资源
- 惰性过期：访问的时候判断是否已经过期，可能出现大量key过期后未被再次访问，造成内存占用
- 定期过期：定期扫描，移除过期key，是定时过期和惰性过期的这种方案

Redis同时使用了**惰性过期**和**定期过期**这两种策略

## 六、Redis如何实现高可用

三种部署模式：

- 主从模式
    特点：主节点读写、从节点只读
    缺点：1、主节点发生故障系统就会宕机 2、主从节点存储内容一致，浪费内存
- 哨兵模式
    特点：由一个或多个Sentinel实例监测主从节点，若主节点发生故障，自动将某个从节点升为新的主节点
    缺点：主从节点存储内容一致，浪费内存
- 集群模式：实现了数据的分布式存储
